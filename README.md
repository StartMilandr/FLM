# FLM

Проект для сборки FLM для микроконтроллеров Миландр.

В алгоритмах реализовано стирание по секторам, которое на текущий момент отсутствует в FLM от производителя. 
Стирание по секторам позволяет организовать прошивку МК через утилиту J-Flash, как это описано здесь -
https://startmilandr.ru/doku.php/prog:start:j-flash

*(Полностью стабильной работы с J-Flash добиться пока не удалось.)*

Статья по проекту: https://startmilandr.ru/doku.php/prog:start:newflm

## Назначение

  * *1986VE1_FlashInt.FLM* - для 1986ВЕ1т и 1986ВЕ3Т, Cortex-M1.
  * *1986VE9x_FlashInt.FLM* - для 1986ВЕ9х, Cortex-M3.


Версии 1986VE1_FlashIntDR.FLM и 1986VE9x_FlashIntDR.FLM используют повторное считывание значений при несовпадении валидируемых данных. Тесты для некоторых МК проходят только с этой опцией. Поэтому варианты с суффиксом DR (Double Read) на текущий момент считаются более надежными.

## Дирестории

  * src - Исходные коды: описания МК-ов и функций работы с EEPROM. Общие для всех проектов.
  * test - Тесты на отработку функций FLM в МК. Запускаются из ОЗУ и проверяются в отладчике. Описание функций FLM - http://arm-software.github.io/CMSIS_5/Pack/html/algorithmFunc.html
  * FLM_Build - Мультипроект по сборке FLM.
 
